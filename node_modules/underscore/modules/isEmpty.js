import getLength from 'underscore/modules/_getLength.js';
import isArray from 'underscore/modules/isArray.js';
import isString from 'underscore/modules/isString.js';
import isArguments from 'underscore/modules/isArguments.js';
import keys from 'underscore/modules/keys.js';

// Is a given array, string, or object empty?
// An "empty" object has no enumerable own-properties.
export default function isEmpty(obj) {
  if (obj == null) return true;
  // Skip the more expensive `toString`-based type checks if `obj` has no
  // `.length`.
  var length = getLength(obj);
  if (typeof length == 'number' && (
    isArray(obj) || isString(obj) || isArguments(obj)
  )) return length === 0;
  return getLength(keys(obj)) === 0;
}
