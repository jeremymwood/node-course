import _ from 'underscore/underscore.js';
import each from 'underscore/modules/each.js';
import functions from 'underscore/modules/functions.js';
import { push } from 'underscore/modules/_setup.js';
import chainResult from 'underscore/modules/_chainResult.js';

// Add your own custom functions to the Underscore object.
export default function mixin(obj) {
  each(functions(obj), function(name) {
    var func = _[name] = obj[name];
    _.prototype[name] = function() {
      var args = [this._wrapped];
      push.apply(args, arguments);
      return chainResult(this, func.apply(_, args));
    };
  });
  return _;
}
